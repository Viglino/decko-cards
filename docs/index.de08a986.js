!function(){function e(e){return e&&e.__esModule?e.default:e}class t{constructor(e){this.setLanguage(e||"en")}}t.prototype.setLanguage=function(e){e&&(this.language=e,this[e]||(this[e]={}))},t.prototype.set=function(e,t){this[e]||(this[e]={});for(let n in t)this[e][n]=t[n]},t.prototype.template=function(e){e&&e.getAttribute&&(e.dataset.i18n?e.innerHTML=o(e.dataset.i18n):Array.prototype.forEach.call(e.querySelectorAll("[data-i18n]"),(e=>{e.innerHTML=o(e.dataset.i18n)})))};const n=new t;function o(e,t){return n[n.language][e]||(t?"":e)}var r=o;n.set("en",{title:"Title",name:"name"}),n.set("fr",{title:"Titre",name:"nom"}),n.setLanguage(navigator.language.split("-")[0]||"en");const i={create:function(e,t){var n;if(t=t||{},"TEXT"===e)n=document.createTextNode(t.html||""),t.parent&&t.parent.appendChild(n);else for(var o in n=document.createElement(e),/button/i.test(e)&&n.setAttribute("type","button"),t)switch(o){case"className":t.className&&t.className.trim&&n.setAttribute("class",t.className.trim());break;case"text":n.innerText=t.text;break;case"html":t.html instanceof Element?n.appendChild(t.html):void 0!==t.html&&(n.innerHTML=t.html);break;case"parent":t.parent&&t.parent.appendChild(n);break;case"options":if(/select/i.test(e))for(var r in t.options)i.create("OPTION",{html:r,value:t.options[r],parent:n});break;case"style":i.setStyle(n,t.style);break;case"change":case"click":i.addListener(n,o,t[o]);break;case"on":for(var s in t.on)i.addListener(n,s,t.on[s]);break;case"checked":n.checked=!!t.checked;break;default:n.setAttribute(o,t[o])}return n},setHTML:function(e,t){t instanceof Element?e.appendChild(t):void 0!==t&&(e.innerHTML=t)},appendText:function(e,t){e.appendChild(document.createTextNode(t||""))},addListener:function(e,t,n,o){"string"==typeof t&&(t=t.split(" ")),t.forEach((function(t){e.addEventListener(t,n,o)}))},removeListener:function(e,t,n){"string"==typeof t&&(t=t.split(" ")),t.forEach((function(t){e.removeEventListener(t,n)}))},show:function(e){e.style.display=""},hide:function(e){e.style.display="none"},hidden:function(e){return"none"===e.getStyle(e,"display")},toggle:function(e){e.style.display="none"===e.style.display?"":"none"},setStyle:function(e,t){for(var n in t)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"==typeof t[n]?e.style[n]=t[n]+"px":e.style[n]=t[n];break;default:e.style[n]=t[n]}},getStyle:function(e,t){var n,o=(e.ownerDocument||document).defaultView;if(o&&o.getComputedStyle)t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=o.getComputedStyle(e,null).getPropertyValue(t);else if(e.currentStyle&&(t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()})),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(t){var n=e.style.left,o=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=o,t}(n);return/px$/.test(n)?parseInt(n):n},outerHeight:function(e){return e.offsetHeight+i.getStyle(e,"marginBottom")},outerWidth:function(e){return e.offsetWidth+i.getStyle(e,"marginLeft")},offsetRect:function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}},getFixedOffset:function(e){var t={left:0,top:0},n=function(e){if(!e)return t;if("absolute"===i.getStyle(e,"position")&&"none"!==i.getStyle(e,"transform")){var o=e.getBoundingClientRect();return t.left+=o.left,t.top+=o.top,t}return n(e.offsetParent)};return n(e.offsetParent)},positionRect:function(e,t){var n=0,o=0,r=function(i){if(i)return n+=i.offsetLeft,o+=i.offsetTop,r(i.offsetParent);var s={top:e.offsetTop+o,left:e.offsetLeft+n};return t&&(s.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),s.bottom=s.top+e.offsetHeight,s.right=s.top+e.offsetWidth,s};return r(e.offsetParent)},scrollDiv:function(e,t){var n,o,r,s,a,l=!1,c=0,p=0,u="function"==typeof(t=t||{}).onmove?t.onmove:function(){},d=t.vertical?"screenY":"screenX",f=t.vertical?"scrollTop":"scrollLeft",m=!1,h=0,v=function(){a&&(h++,setTimeout(y))},y=function(){if(a){if(--h)return;var t=e.clientHeight,n=e.scrollHeight;o=t/n,a.style.height=100*o+"%",a.style.top=e.scrollTop/n*100+"%",s.style.height=t+"px",t>n-.5?s.classList.add("ol-100pc"):s.classList.remove("ol-100pc")}},g=function(t){t.target.classList.contains("ol-noscroll")||(m=!1,l=t[d],p=new Date,e.classList.add("ol-move"),t.preventDefault(),window.addEventListener("pointermove",L),i.addListener(window,["pointerup","pointercancel"],E))},L=function(t){if(!1!==l){var i=(r?-1/o:1)*(l-t[d]);m=m||Math.round(i),e[f]+=i,(n=new Date)-p&&(c=(c+i/(n-p))/2),l=t[d],p=n,i&&u(!0)}else m=!0},w=function(t){var n=t>0?Math.min(100,t/2):Math.max(-100,t/2);t-=n,e[f]+=n,-1<t&&t<1?(m?setTimeout((function(){e.classList.remove("ol-move")})):e.classList.remove("ol-move"),m=!1,u(!1)):setTimeout((function(){w(t)}),40)};if(t.vertical&&t.minibar){var b=function(n){e.removeEventListener("pointermove",b),e.parentNode.classList.add("ol-miniscroll"),a=i.create("DIV"),s=i.create("DIV",{className:"ol-scroll",html:a}),e.parentNode.insertBefore(s,e),a.addEventListener("pointerdown",(function(e){r=!0,g(e)})),t.mousewheel&&(i.addListener(s,["mousewheel","DOMMouseScroll","onmousewheel"],(function(e){T(e)})),i.addListener(a,["mousewheel","DOMMouseScroll","onmousewheel"],(function(e){T(e)}))),e.parentNode.addEventListener("pointerenter",v),window.addEventListener("resize",v),!1!==n&&v()};e.parentNode?b(!1):e.addEventListener("pointermove",b),e.addEventListener("scroll",(function(){v()}))}e.style["touch-action"]="none",e.style.overflow="hidden",e.classList.add("ol-scrolldiv"),i.addListener(e,["pointerdown"],(function(e){r=!1,g(e)})),e.addEventListener("click",(function(t){e.classList.contains("ol-move")&&(t.preventDefault(),t.stopPropagation())}),!0);var E=function(n){(p=new Date-p)>100||r?c=0:p>0&&(c=((c||0)+(l-n[d])/p)/2),w(!1===t.animate?0:200*c),l=!1,c=0,p=0,e.classList.contains("ol-move")?e.classList.remove("ol-hasClick"):(e.classList.add("ol-hasClick"),setTimeout((function(){e.classList.remove("ol-hasClick")}),500)),r=!1,window.removeEventListener("pointermove",L),i.removeListener(window,["pointerup","pointercancel"],E)},T=function(t){var n=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));return e.classList.add("ol-move"),e[f]-=30*n,e.classList.remove("ol-move"),!1};return t.mousewheel&&i.addListener(e,["mousewheel","DOMMouseScroll","onmousewheel"],T),{refresh:v}},dispatchEvent:function(e,t){var n;try{n=new CustomEvent(e)}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,{})}t.dispatchEvent(n)}};var s=i;const a={role:{html:e('<div data-prop="title"></div><div data-prop="logo" class="centerX centerY"></div><div data-prop="image"></div><div data-prop="name"></div><div data-prop="info"></div>'),properties:{name:"roleTemplate",description:"roleDesc",properties:{title:{type:"text",default:"title"},logo:{type:"emoji"},image:{type:"image",default:"./img/none.svg"},name:{type:"text",default:"name"},info:{type:"textarea",default:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec at quam vel lorem suscipit sagittis non ac justo. Aenean volutpat purus vitae metus aliquam ultrices. Suspendisse rhoncus odio sit amet ex malesuada tincidunt."}}}}};for(let e in a)a[e].properties.html=a[e].html,a[e]=a[e].properties;console.log(a);var l=a;class c{constructor(e){const t=l[(e=e||{}).templates]?e.templates:"role",n=l[t];this.element=s.create("CARD",{html:n.html,parent:e.parent}),this.element.dataset.template=t,this.borderElt=s.create("DIV",{className:"border",parent:this.element}),this.style={},this.properties={};for(let e in n.properties)this.properties[e]=Object.assign(n.properties[e]);this.show(e.properties)}}c.prototype.show=function(){for(p in this.borderElt.style.borderColor=this.style.borderColor||"#fff",this.properties){const e=this.element.querySelector('[data-prop="'+p+'"]'),t=this.properties[p];switch(t.type){case"text":case"emoji":case"textarea":{const n=void 0!==t.value?t.value:r(t.default)||"";e.innerHTML=n.replace("\n","<br/>"),e.style.display=n?"":"none"}case"image":e.style.backgroundImage="url("+(void 0!==t.img?t.img:t.default)+")"}}},c.prototype.getForm=function(e){e.innerHTML="";const t=s.create("UL",{parent:e}),n=s.create("LI",{parent:t});s.create("LABEL",{html:r("borderColor"),parent:n}),s.create("INPUT",{value:this.style.borderColor||"",change:e=>{this.style.borderColor=e.target.value||"#f00",this.show()},parent:n}),Object.keys(this.properties).forEach((e=>{const n=this.properties[e];switch(n.type){case"text":case"emoji":case"textarea":{const o=s.create("LI",{parent:t});s.create("LABEL",{html:e,parent:o});const r=this.element.querySelector('[data-prop="'+e+'"]');s.create("textarea"===n.type?"TEXTAREA":"INPUT",{value:n.value||"",on:{keyup:e=>{n.value=e.target.value;const t=e.target.value.replace("\n","<br/>");r.innerHTML=t,r.style.display=t?"":"none"}},parent:o})}}}))};new c({template:"role",parent:document.getElementById("card")}).getForm(document.getElementById("form"))}();